#include "Window.hpp"

Window::Window() {
  initscr();
  cbreak();
  noecho();
  keypad(stdscr, true);

  getmaxyx(stdscr, _windowX, _windowY);
  
  _inputMode = MODE_NAVIGATE;
  _cursorPosition = -1;
  
  _listFrameX = 0.3 * _listFrameX ;
  _listFrameY = _windowY - 1;
  _visualFrameX = _windowX - _listFrameX;
  _visualFrameY = _windowY - 1;

  WINDOW* listFrame = newwin(_listFrameX. _listFrameY, 0, 0);
  WINDOW* visualFrame = newwin(_visualFrameX, _visualFrameY, 0, _listFrameX);

  _listFrame = std::make_unique<WINDOW>(*listFrame);
  _visualFrame = std::make_unique<WINDOW>(*visualFrame);
}

Window::~Window() {
  endwin();
}

void Window::renderWindowTemplate() {
  box(_listFrame.get(), 0, 0);
  box(_visualFrame.get(), 0, 0);
}

void Window::renderWindowList() {
  
}

void Window::renderWindowCursor() {
  if (_cursorPosition < 0) {
	curs_set(0);
  }
}

void Window::refreshFrames() {
  wrefresh(_listFrame.get());
  wrefresh(_visualFrame.get());
}

